FROM wurstmeister/kafka:2.12-2.8.0

# Set environment variables
ENV KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://localhost:9092
ENV KAFKA_LISTENER_SECURITY_PROTOCOL_MAP=PLAINTEXT:PLAINTEXT
ENV KAFKA_LISTENERS=PLAINTEXT://0.0.0.0:9092
ENV KAFKA_ZOOKEEPER_CONNECT=zookeeper:2181
ENV KAFKA_CREATE_TOPICS=test:1:1

# Expose Kafka and ZooKeeper ports
EXPOSE 9092 2181